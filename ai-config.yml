project:
  name: Tic-Tac-Toe
  description: A hypermedia-driven tic-tac-toe game using datastar framework
  context:
    stakeholders:
      - Development team
      - Players of the game
    goals:
      - Demonstrate hypermedia-driven web application architecture
      - Showcase minimal JavaScript approach
      - Implement real-time multiplayer gameplay
    scope:
      - Core game mechanics
      - Player authentication
      - Real-time updates
      - Web interface
    integrations:
      - datastar framework
      - ASP.NET Core Identity
      - Server-Sent Events (SSE)

architecture:
  type: Clean Architecture
  components:
    - name: TicTacToe.Engine
      purpose: Core game logic
      features:
        - Immutable state management
        - Move validation
        - Win detection
    - name: TicTacToe.Web
      purpose: Web presentation
      features:
        - HTTP endpoints
        - HTML rendering
        - Game state persistence
    - name: TicTacToe.Tests
      purpose: Test suite
      features:
        - Unit tests
        - Integration tests
  frameworks:
    - .NET 8 with MinimalAPI
    - RazorSlices 0.9.1
    - StarFederation.Datastar 1.0.0-beta.4
    - datastar.js 1.0.0-beta.10

file_organization:
  directory_structure:
    src:
      - TicTacToe.Engine/: Core game logic implementation
      - TicTacToe.Web/:
          - Endpoints/: HTTP endpoint handlers
          - Infrastructure/: Services and repositories
          - Models/: View models
          - Slices/: Razor components
    test:
      - TicTacToe.Tests/: Test implementations
    docs:
      - project/: Project documentation
      - dev/: Development guidelines
  naming_conventions:
    files:
      - Use PascalCase for C# files
      - Use .cshtml extension for Razor files
    code:
      - Follow Microsoft's C# coding conventions
      - Use PascalCase for types and methods
      - Use camelCase for parameters and variables
  version_control:
    branching: trunk-based development
    commits:
      - Use present tense
      - Be descriptive
      - Reference issues when applicable

code_modifications:
  standards:
    - Use C# 12 features where appropriate
    - Prefer immutable types (records)
    - Enable nullable reference types
    - Follow progressive enhancement for HTML/CSS
  pull_requests:
    requirements:
      - All tests must pass
      - Code follows style guidelines
      - Documentation is updated
    review_process:
      - Verify functionality
      - Check code style
      - Validate tests
  version_management:
    - Use semantic versioning
    - Tag releases appropriately
    - Update dependency versions in documentation

testing:
  frameworks:
    unit_testing:
      - MSTest for .NET
    integration_testing:
      - ASP.NET Core Integration Testing
  requirements:
    - Mirror source structure in tests
    - Use descriptive test names
    - Follow Arrange-Act-Assert pattern
    - Group player-specific scenarios
  coverage:
    areas:
      - Game logic
      - Web features
      - Authentication
      - Player interactions
    validation:
      - Success cases
      - Failure cases
      - Edge cases

documentation:
  code:
    - XML comments on public APIs
    - Inline comments for complex logic
    - Example usage in docstrings
  project:
    readme:
      - Project overview
      - Setup instructions
      - Dependencies
      - Development workflow
    docs:
      - Architecture decisions
      - API documentation
      - Security considerations
  tools:
    - XML documentation
    - Markdown for project docs
    - RazorSlice documentation

